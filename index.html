<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MASSGRAVES // UNDERGROUND</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
  <script type="module" src="app.js"></script>
</head>
<body>

<div id="crt"></div>

<div id="auth-screen" class="screen">
  <h1 class="glitch">MASSGRAVES</h1>
  <div class="panel">
    <p style="text-align:center; color: #ff00ea;">[ ACCESS RESTRICTED ]</p>
    <input id="email" placeholder="USER_ID (EMAIL)">
    <input id="password" type="password" placeholder="PASS_CODE">
    <button onclick="window.login()">LOGIN</button>
    <div style="margin: 10px 0; text-align: center; color: #444;">— OR —</div>
    <button id="signupBtn">ENTER THE GRAVE</button>
  </div>
  <p id="auth-msg"></p>
</div>

<div id="app" class="screen hidden">
  <h1 class="glitch" style="font-size: 32px; margin: 10px 0;">MASSGRAVES</h1>
  
  <nav>
    <button onclick="window.show('feed')">THE_FEED</button>
    <button onclick="window.show('log')">LOG_WORK</button>
    <button onclick="window.show('prs')">VITAL_STATS</button>
    <button onclick="window.show('profile')">MY_ID</button>
    <button id="nav-admin" class="hidden" onclick="window.show('admin-panel')">ROOT</button>
    <button onclick="window.logout()" style="border-color: #ff00ea; color: #ff00ea;">EXIT</button>
  </nav>

  <section id="feed" class="panel"></section>

  <section id="log" class="panel hidden">
    <h3>REPORT PROGRESS</h3>
    <label style="color: #ff00ea; font-size: 0.8rem;">CHOOSE MOVEMENT:</label>
    <select id="exerciseSelect" onchange="window.toggleCustomExercise()">
      <optgroup label="Main Lifts">
        <option value="Bench Press">Bench Press</option>
        <option value="Squat">Squat</option>
        <option value="Deadlift">Deadlift</option>
        <option value="Overhead Press">Overhead Press</option>
      </optgroup>
      <optgroup label="Accessories">
        <option value="Barbell Row">Barbell Row</option>
        <option value="Dumbbell Press">Dumbbell Press</option>
        <option value="Pull Ups">Pull Ups</option>
        <option value="Dips">Dips</option>
        <option value="Leg Press">Leg Press</option>
      </optgroup>
      <option value="CUSTOM">-- CUSTOM / OTHER --</option>
    </select>

    <input id="customExercise" class="hidden" placeholder="Enter custom movement name...">

    <div style="display: flex; gap: 10px; margin-top: 10px;">
      <input id="weightInput" type="number" placeholder="WEIGHT">
      <input id="repsInput" type="number" placeholder="REPS">
    </div>
    
    <textarea id="workoutNotes" placeholder="HOW DID IT FEEL? (OPTIONAL)"></textarea>
    <button onclick="window.postWorkout()">TRANSMIT TO FEED</button>
  </section>

  <section id="prs" class="panel hidden">
    <h3>MAX_EFFORT_LOG</h3>
    <div id="prList"></div>
  </section>

  <section id="profile" class="panel hidden">
    <h3 id="profileEmail"></h3>
    <div style="border: 1px dashed #444; padding: 10px; margin-top: 10px;">
      <p style="color: #ff00ea; margin: 0;">STATUS: ACTIVE</p>
      <p style="margin: 5px 0 0 0;">"EVERY REP IS A NAIL IN THE COFFIN."</p>
    </div>
  </section>

  <section id="admin-panel" class="panel hidden">
    <h3 style="color: red;">ADMIN_OVERRIDE</h3>
    <input id="planName" placeholder="PLAN_NAME">
    <button onclick="window.createPresetPlan()">GENERATE</button>
    <div id="plans" style="margin-top: 10px;"></div>
  </section>
</div>

</body>
</html>
