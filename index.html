<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DEADWEIGHTS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- STYLE -->
  <link rel="stylesheet" href="style.css">

  <!-- FONTS -->
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
</head>

<body data-theme="veil">

<!-- ================= AUTH ================= -->
<section id="auth-screen" class="screen">
  <h1 class="main-title">DEADWEIGHTS</h1>

  <div class="card auth-card">
    <h2>ENTER THE GRAVE</h2>

    <input id="email" type="email" placeholder="EMAIL">
    <input id="password" type="password" placeholder="PASSWORD">

    <button id="loginBtn" class="btn primary">LOGIN</button>
    <button id="showRegBtn" class="btn ghost">NEW USER</button>

    <div id="authError" class="error hidden"></div>
  </div>
</section>

<!-- ================= REGISTRATION ================= -->
<section id="register-screen" class="screen hidden">
  <h1 class="main-title">DEADWEIGHTS</h1>

  <div class="card auth-card">
    <h2>NEW RECRUIT</h2>

    <!-- STEP 1 -->
    <div id="reg-step-1">
      <input id="reg-email" type="email" placeholder="EMAIL">
      <input id="reg-pass" type="password" placeholder="PASSWORD (6+)">
      <input id="reg-confirm" type="password" placeholder="CONFIRM PASSWORD">

      <button id="nextStepBtn" class="btn primary">CONTINUE</button>
      <button id="backToLoginBtn" class="btn ghost">BACK TO LOGIN</button>
    </div>

    <!-- STEP 2 -->
    <div id="reg-step-2" class="hidden">
      <input id="reg-username" placeholder="CALLSIGN">

      <p class="label">CHOOSE TAG</p>
      <div id="initial-tag-picker" class="tag-grid"></div>

      <p class="label">CHOOSE AVATAR</p>
      <div id="initial-avatar-picker" class="avatar-grid"></div>

      <button id="finalizeRegBtn" class="btn primary">FINALIZE</button>
    </div>

    <div id="regError" class="error hidden"></div>
  </div>
</section>

<!-- ================= APP ================= -->
<section id="app" class="screen hidden">

  <!-- TOP NAV -->
  <header class="topbar">
    <div class="logo">
      DEADWEIGHTS
      <span class="massgrave">MASSGRAVE: <b id="massgrave-today">0</b></span>
    </div>

    <nav>
      <button class="nav-btn" data-tab="feed">FEED</button>
      <button class="nav-btn" data-tab="plans">PLANS</button>
      <button class="nav-btn" data-tab="profile">PROFILE</button>
      <button class="nav-btn" data-tab="settings">SETTINGS</button>
      <button id="logoutBtn" class="nav-btn danger">LOGOUT</button>
    </nav>
  </header>

  <main class="layout">

    <!-- LEFT SIDEBAR -->
    <aside class="sidebar">
      <div class="card calling-card" id="user-card">
        <div id="avatar-display" class="avatar avatar-wraith"></div>
        <h3 id="username-display">USER</h3>
        <p id="rank-display">NEWBORN</p>
        <p class="small">LOGS: <span id="log-count">0</span></p>
      </div>
    </aside>

    <!-- CENTER -->
    <section class="content">

      <!-- FEED -->
      <div id="tab-feed" class="tab">
        <div class="card">
          <textarea id="statusText" placeholder="WRITE TO THE GRAVE..."></textarea>
          <button id="postStatusBtn" class="btn primary">POST</button>
        </div>

        <div id="feed-content"></div>
      </div>

      <!-- PLANS -->
      <div id="tab-plans" class="tab hidden">
        <div class="card">
          <h3>WORKOUT SPLITS</h3>
          <div id="plans-grid" class="plans-grid"></div>
        </div>

        <div class="card">
          <h3>ACTIVE SPLIT</h3>
          <p id="active-split-name">NONE</p>
          <button id="setStartDayBtn" class="btn ghost">SET START DAY</button>
          <div id="today-workout"></div>
        </div>
      </div>

      <!-- PROFILE -->
      <div id="tab-profile" class="tab hidden">
        <div class="card">
          <h3 id="profile-name">PROFILE</h3>
          <div id="profile-prs"></div>
          <div id="profile-posts"></div>
        </div>
      </div>

      <!-- SETTINGS -->
      <div id="tab-settings" class="tab hidden">
        <div class="card">
          <h3>SETTINGS</h3>

          <label>CHANGE CALLSIGN</label>
          <input id="new-username">
          <button id="renameBtn" class="btn primary">SAVE</button>

          <label>THEME</label>
          <select id="themeSelect">
            <option value="veil">VEIL</option>
            <option value="catacomb">CATACOMB</option>
            <option value="crypt">CRYPT</option>
          </select>
          <button id="saveThemeBtn" class="btn ghost">APPLY</button>
        </div>
      </div>

    </section>

    <!-- RIGHT SIDEBAR -->
    <aside class="sidebar">
      <div class="card">
        <h3>LOG WORKOUT</h3>

        <select id="movementSelect"></select>

        <div id="setsContainer"></div>

        <button id="addSetBtn" class="btn ghost">ADD SET</button>
        <button id="logWorkoutBtn" class="btn primary">LOG</button>

        <div id="logError" class="error hidden"></div>
      </div>
    </aside>

  </main>
</section>

<!-- SCRIPT -->
<script type="module" src="app.js"></script>
</body>
</html>
