<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DEADWEIGHTS // THE_GRAVE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
</head>

<body class="crt">
  <!-- REGISTRATION -->
  <div id="registration-screen" class="screen hidden">
    <div class="morbid-title-main pulse">DEADWEIGHTS</div>

    <div class="grave-box auth-box">
      <div class="grave-header">
        <span>RECRUIT_INDUCTION</span>
        <span class="tiny-muted" id="reg-hint">STEP_1/3</span>
      </div>

      <div class="grave-body">
        <!-- STEP 1 -->
        <div id="reg-step-1">
          <input id="reg-email" type="email" placeholder="EMAIL_ADDRESS">
          <input id="reg-pass" type="password" placeholder="CREATE_PASSCODE">
          <input id="reg-confirm" type="password" placeholder="CONFIRM_PASSCODE">
          <button id="nextStepBtn" class="grave-btn">CONTINUE_INDUCTION</button>
        </div>

        <!-- STEP 2 -->
        <div id="reg-step-2" class="hidden">
          <input id="reg-username" placeholder="ASSIGN_CALLSIGN">
          <div class="divider"></div>

          <p class="small-label">SELECT_INITIAL_GRAVE_TAG</p>
          <div id="initial-tag-picker" class="tag-grid"></div>

          <p class="small-label">SELECT_AVATAR_SIGIL</p>
          <div id="avatar-picker" class="avatar-grid"></div>

          <button id="toStep3Btn" class="grave-btn">LOCK_IN_SIGILS</button>
        </div>

        <!-- STEP 3 -->
        <div id="reg-step-3" class="hidden">
          <p class="small-label">SELECT_STARTING_SPLIT</p>
          <div id="plan-picker" class="plan-grid"></div>

          <div class="divider"></div>
          <label class="toggle-line">
            <input type="checkbox" id="reg-private" />
            <span>PRIVATE_PROFILE (HIDE_FROM_SEARCH)</span>
          </label>

          <button id="finalizeRegBtn" class="grave-btn">FINALIZE_ENTRY</button>
        </div>

        <button id="returnToLoginBtn" class="grave-btn-alt">RETURN_TO_LOGIN</button>
      </div>
    </div>
  </div>

  <!-- LOGIN -->
  <div id="auth-screen" class="screen">
    <div class="morbid-title-main pulse">DEADWEIGHTS</div>

    <div class="grave-box auth-box">
      <div class="grave-header">EXISTING_ENTITY_ACCESS</div>
      <div class="grave-body">
        <input id="email" type="email" placeholder="USER_ID">
        <input id="password" type="password" placeholder="PASS_CODE">
        <button id="loginBtn" class="grave-btn">RESURRECT</button>
        <button id="showRegBtn" class="grave-btn-alt">NEW_RECRUIT_ENTRY</button>
        <div class="tiny-muted" style="margin-top:10px;">
          TIP: Use a real email/password (Firebase Auth).
        </div>
      </div>
    </div>
  </div>

  <!-- APP -->
  <div id="app" class="screen hidden">
    <header class="grave-nav">
      <div class="logo pulse">
        DEADWEIGHTS // <span id="header-callsign"></span>
        <span id="admin-badge" class="admin-badge hidden">ADMIN</span>
      </div>
      <div class="nav-controls">
        <button class="mini-btn" id="tabFeedBtn">FEED</button>
        <button class="mini-btn" id="tabPlansBtn">PLANS</button>
        <button class="mini-btn" id="tabFriendsBtn">FRIENDS</button>
        <button class="mini-btn" id="tabSettingsBtn">SETTINGS</button>
        <button id="logoutBtn" class="mini-btn danger">DISCONNECT</button>
      </div>
    </header>

    <div class="grave-grid">
      <!-- LEFT: PROFILE -->
      <aside class="col">
        <div class="grave-box">
          <div id="calling-card" class="calling-card">
            <div class="cc-bg"></div>
            <div class="cc-noise"></div>
            <div class="cc-content">
              <div class="cc-top">
                <div class="avatar-wrap">
                  <div id="profile-avatar" class="avatar a-sigil-1"></div>
                </div>
                <div class="cc-text">
                  <div class="cc-name">
                    <span id="profileUsername">SUBJECT</span>
                    <span id="profile-rank-pill" class="rank-pill">NEWBORN</span>
                  </div>
                  <div class="cc-sub tiny-muted">
                    <span id="profile-title">FRESHLY_BURIED</span>
                  </div>
                </div>
              </div>

              <div class="cc-stats">
                <div class="cc-stat">
                  <small>CARVINGS</small>
                  <b id="stat-carvings">0</b>
                </div>
                <div class="cc-stat">
                  <small>XP</small>
                  <b id="stat-xp">0</b>
                </div>
                <div class="cc-stat">
                  <small>PRs</small>
                  <b id="stat-prs">0</b>
                </div>
              </div>

              <div class="cc-footer">
                <div id="user-grave-tag" class="grave-tag mini-tag tag-rust">
                  <span class="tag-text">CADAVER</span>
                </div>
                <div class="tiny-muted" id="cc-flair">SIGNAL_STABLE</div>
              </div>
            </div>
          </div>
        </div>

        <div class="grave-box">
          <div class="grave-header">LEADERBOARD</div>
          <div id="leaderboard" class="grave-body small-text"></div>
        </div>

        <div class="grave-box">
          <div class="grave-header">RANK_PATH</div>
          <div id="rank-path" class="grave-body small-text"></div>
        </div>
      </aside>

      <!-- CENTER: TABS -->
      <main class="col-main">
        <!-- FEED -->
        <section id="feed-panel">
          <div class="grave-box">
            <div class="grave-header">BROADCAST_CARVING</div>
            <div class="grave-body">
              <textarea id="statusText" placeholder="SHARE INTEL..."></textarea>
              <div class="row">
                <button id="postStatusBtn" class="grave-btn">TRANSMIT</button>
              </div>
              <div class="tiny-muted">
                You can delete your own posts. Admins can delete anything.
              </div>
            </div>
          </div>

          <div id="feed-content"></div>
        </section>

        <!-- PLANS -->
        <section id="plans-panel" class="hidden">
          <div class="grave-box">
            <div class="grave-header">
              <span>WORKOUT_SPLIT_INDEX</span>
              <span class="tiny-muted" id="active-plan-pill">ACTIVE: NONE</span>
            </div>
            <div class="grave-body">
              <div class="plan-toolbar">
                <select id="plan-goal">
                  <option value="balanced">BALANCED</option>
                  <option value="strength">STRENGTH</option>
                  <option value="hypertrophy">HYPERTROPHY</option>
                  <option value="cut">CUT / CONDITIONING</option>
                </select>

                <select id="plan-days">
                  <option value="3">3_DAYS</option>
                  <option value="4">4_DAYS</option>
                  <option value="5" selected>5_DAYS</option>
                  <option value="6">6_DAYS</option>
                </select>

                <button id="filterPlansBtn" class="mini-btn">FILTER</button>
              </div>

              <div id="plans-index" class="plans-index"></div>
            </div>
          </div>

          <div class="grave-box">
            <div class="grave-header">ACTIVE_SPLIT_DETAILS</div>
            <div class="grave-body">
              <div id="active-plan-details" class="plan-details">
                SELECT_A_SPLIT_FROM_THE_INDEX.
              </div>
            </div>
          </div>
        </section>

        <!-- FRIENDS -->
        <section id="friends-panel" class="hidden">
          <div class="grave-box">
            <div class="grave-header">SEARCH_ENTITIES</div>
            <div class="grave-body">
              <input id="userSearch" placeholder="SEARCH CALLSIGN...">
              <div id="search-results"></div>
              <div class="tiny-muted">Respects PRIVATE_PROFILE flag.</div>
            </div>
          </div>

          <div class="grave-box">
            <div class="grave-header">THE_COVEN (FRIENDS)</div>
            <div id="friends-list" class="grave-body"></div>
          </div>
        </section>

        <!-- SETTINGS -->
        <section id="settings-panel" class="hidden">
          <div class="grave-box">
            <div class="grave-header">USER_PARAMETERS</div>
            <div class="grave-body">
              <p>CHANGE_CALLSIGN</p>
              <input id="new-username" placeholder="NEW_CALLSIGN">
              <button class="grave-btn" id="renameBtn">RENAME_ENTITY</button>

              <div class="divider"></div>

              <p>GRAVE_TAG_VISUALS</p>
              <div id="settings-tag-picker" class="tag-grid"></div>
              <button class="grave-btn" id="updateTagBtn">UPDATE_TAG</button>

              <div class="divider"></div>

              <p>AVATAR_SIGIL</p>
              <div id="settings-avatar-picker" class="avatar-grid"></div>
              <button class="grave-btn" id="updateAvatarBtn">UPDATE_AVATAR</button>

              <div class="divider"></div>

              <p>VISUAL_INTENSITY</p>
              <label class="toggle-line">
                <input type="checkbox" id="toggle-scanlines" checked />
                <span>SCANLINES</span>
              </label>
              <label class="toggle-line">
                <input type="checkbox" id="toggle-glow" checked />
                <span>NEON_GLOW</span>
              </label>
              <label class="toggle-line">
                <input type="checkbox" id="toggle-motion" checked />
                <span>ANIMATIONS</span>
              </label>
              <button class="grave-btn" id="saveUiBtn">SAVE_UI_SETTINGS</button>

              <div class="divider"></div>

              <p>PRIVACY</p>
              <label class="toggle-line">
                <input type="checkbox" id="toggle-private" />
                <span>PRIVATE_PROFILE (HIDE_FROM_SEARCH)</span>
              </label>
              <button class="grave-btn" id="savePrivacyBtn">SAVE_PRIVACY</button>

              <div id="admin-panel" class="admin-panel hidden">
                <div class="divider"></div>
                <div class="grave-header" style="margin:-20px -20px 20px -20px;">
                  ADMIN_CONSOLE
                </div>

                <p class="tiny-muted">Admins can nuke posts, reset users, or pin announcements.</p>

                <div class="row gap">
                  <input id="admin-announce" placeholder="ANNOUNCEMENT_TEXT">
                  <button id="admin-post-announce" class="mini-btn">BROADCAST</button>
                </div>

                <div class="row gap">
                  <input id="admin-user-lookup" placeholder="FIND_USER_BY_CALLSIGN">
                  <button id="admin-find-user" class="mini-btn">LOCATE</button>
                </div>

                <div id="admin-user-result" class="tiny-muted"></div>

                <div class="row gap">
                  <button id="admin-reset-xp" class="mini-btn danger">RESET_XP</button>
                  <button id="admin-toggle-admin" class="mini-btn">TOGGLE_ADMIN</button>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <!-- RIGHT: LOGGING + PRS -->
      <aside class="col">
        <div class="grave-box">
          <div class="grave-header">LOGGING_STATION</div>
          <div class="grave-body">
            <div class="tiny-muted" id="log-context">ACTIVE_SPLIT: NONE</div>

            <select id="log-day"></select>

            <select id="log-category"></select>

            <select id="log-ex"></select>

            <div class="row gap">
              <input id="log-w" type="number" inputmode="decimal" placeholder="LBS">
              <input id="log-r" type="number" inputmode="numeric" placeholder="REPS">
            </div>

            <div class="row gap">
              <input id="log-notes" placeholder="NOTES (OPTIONAL)">
              <button id="recordBtn" class="grave-btn">RECORD_CARVING</button>
            </div>

            <div class="tiny-muted">
              Auto-PR checks by Estimated 1RM (Epley). Logs are yours only.
            </div>
          </div>
        </div>

        <div class="grave-box">
          <div class="grave-header">PERSONAL_RECORDS</div>
          <div id="prList" class="grave-body index-container"></div>
        </div>

        <div class="grave-box">
          <div class="grave-header">RECENT_CARVINGS</div>
          <div id="logList" class="grave-body index-container"></div>
        </div>
      </aside>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
