<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DEADWEIGHTS // THE_GRAVE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
</head>

<body class="crt">

  <!-- AUTH / REGISTRATION -->
  <div id="registration-screen" class="screen hidden">
    <div class="morbid-title-main pulse">DEADWEIGHTS</div>

    <div class="grave-box auth-box">
      <div class="grave-header">
        <span>RECRUIT_INDUCTION</span>
        <span class="header-chip" id="reg-status-chip">STAGE_1</span>
      </div>

      <div class="grave-body">
        <div id="reg-step-1">
          <input id="reg-email" type="email" placeholder="EMAIL_ADDRESS" autocomplete="email">
          <input id="reg-pass" type="password" placeholder="CREATE_PASSCODE" autocomplete="new-password">
          <input id="reg-confirm" type="password" placeholder="CONFIRM_PASSCODE" autocomplete="new-password">
          <button id="nextStepBtn" class="grave-btn">CONTINUE_INDUCTION</button>

          <div class="hint">
            <span class="hint-dot"></span>
            Your account is created in Stage 1, then you pick your Callsign + Tag.
          </div>
        </div>

        <div id="reg-step-2" class="hidden">
          <input id="reg-username" placeholder="ASSIGN_CALLSIGN" maxlength="18">

          <div class="row-split">
            <div>
              <p class="small-label">SELECT INITIAL GRAVE_TAG:</p>
              <div id="initial-tag-picker" class="tag-grid"></div>
            </div>
            <div>
              <p class="small-label">CHOOSE A BASE AVATAR:</p>
              <div id="avatar-picker" class="avatar-grid"></div>
            </div>
          </div>

          <button id="finalizeRegBtn" class="grave-btn">FINALIZE_ENTRY</button>
          <div class="tiny-warn" id="reg-warn"></div>
        </div>

        <button id="returnToLoginBtn" class="grave-btn-alt">RETURN_TO_LOGIN</button>
      </div>
    </div>
  </div>

  <div id="auth-screen" class="screen">
    <div class="morbid-title-main pulse">DEADWEIGHTS</div>

    <div class="grave-box auth-box">
      <div class="grave-header">EXISTING_ENTITY_ACCESS</div>
      <div class="grave-body">
        <input id="email" type="email" placeholder="USER_ID" autocomplete="email">
        <input id="password" type="password" placeholder="PASS_CODE" autocomplete="current-password">
        <button id="loginBtn" class="grave-btn">RESURRECT</button>

        <div class="btn-row" style="margin-top:10px;">
          <button id="showRegBtn" class="grave-btn-alt">NEW_RECRUIT_ENTRY</button>
          <button id="forgotBtn" class="grave-btn-alt">FORGOT_PASSCODE</button>
        </div>

        <div class="tiny-warn" id="auth-warn"></div>
      </div>
    </div>
  </div>

  <!-- APP -->
  <div id="app" class="screen hidden">
    <header class="grave-nav">
      <div class="logo pulse">
        DEADWEIGHTS //
        <span id="header-callsign"></span>
        <span class="subtle" id="header-rank"></span>
      </div>

      <div class="nav-controls">
        <button class="mini-btn" data-tab="feed-panel">FEED</button>
        <button class="mini-btn" data-tab="plans-panel">PLANS</button>
        <button class="mini-btn" data-tab="friends-panel">FRIENDS</button>
        <button class="mini-btn" data-tab="settings-panel">SETTINGS</button>
        <button id="logoutBtn" class="mini-btn danger">DISCONNECT</button>
      </div>
    </header>

    <div class="grave-grid">

      <!-- LEFT -->
      <aside class="col">
        <div class="grave-box">
          <div class="grave-tag" id="user-grave-tag">
            <div class="tag-fog"></div>
            <span class="tag-text" id="tag-text">CADAVER</span>
          </div>

          <div class="grave-body">
            <div class="profile-top">
              <div class="avatar-frame" id="avatar-frame"></div>

              <div class="profile-meta">
                <h2 id="profileUsername" class="cadaver-name">SUBJECT</h2>

                <div class="stats-line">
                  <div class="stat">
                    <small>CARVINGS</small><b id="stat-count">0</b>
                  </div>
                  <div class="stat">
                    <small>RANK</small><b id="user-rank">NEWBORN</b>
                  </div>
                </div>

                <div class="stats-line">
                  <div class="stat">
                    <small>PR_TROPHIES</small><b id="trophy-count">0</b>
                  </div>
                  <div class="stat">
                    <small>ACTIVE_SPLIT</small><b id="active-split-label">NONE</b>
                  </div>
                </div>
              </div>
            </div>

            <div class="divider"></div>

            <div class="massgrave">
              <div class="massgrave-title">YOUR DAILY MASSGRAVE</div>
              <div class="massgrave-value" id="massgrave-value">0</div>
              <div class="massgrave-sub">Your total volume lifted today</div>
            </div>
          </div>
        </div>

        <div class="grave-box">
          <div class="grave-header">LEADERBOARD</div>
          <div id="leaderboard" class="grave-body small-text"></div>
        </div>

        <div class="grave-box">
          <div class="grave-header">TROPHIES</div>
          <div class="grave-body" id="trophy-list"></div>
        </div>
      </aside>

      <!-- CENTER -->
      <main class="col-main">

        <!-- FEED -->
        <section id="feed-panel">
          <div class="grave-box">
            <div class="grave-header">
              <span>BROADCAST_CARVING</span>
              <span class="header-chip" id="feed-mode-chip">PUBLIC</span>
            </div>
            <div class="grave-body">
              <textarea id="statusText" placeholder="SHARE INTEL..."></textarea>
              <div class="btn-row">
                <button id="postStatusBtn" class="grave-btn">TRANSMIT</button>
                <button id="refreshFeedBtn" class="grave-btn-alt">RELOAD_FEED</button>
              </div>
            </div>
          </div>

          <div id="feed-content"></div>
        </section>

        <!-- PLANS -->
        <section id="plans-panel" class="hidden">
          <div class="grave-box">
            <div class="grave-header">
              <span>SPLIT_INDEX</span>
              <span class="header-chip">3–7 DAYS</span>
            </div>
            <div class="grave-body">
              <div class="row-split">
                <div>
                  <p class="small-label">CHOOSE A SPLIT:</p>
                  <div id="plan-index" class="plan-index"></div>
                </div>

                <div>
                  <p class="small-label">START DAY:</p>
                  <div class="start-controls">
                    <button class="mini-btn" id="start-auto-btn">AUTO (TODAY)</button>
                    <select id="start-day-select"></select>
                  </div>

                  <div class="divider thin"></div>

                  <p class="small-label">BUILD YOUR OWN:</p>
                  <button id="open-builder-btn" class="grave-btn-alt">OPEN_SPLIT_FORGE</button>

                  <div class="divider thin"></div>

                  <div class="hint">
                    <span class="hint-dot"></span>
                    Auto-rotation: you only advance days when you log. Missed days don’t skip you.
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="grave-box">
            <div class="grave-header">
              <span>ACTIVE_SPLIT_STATUS</span>
              <span class="header-chip" id="active-day-chip">DAY_?</span>
            </div>

            <div class="grave-body">
              <div id="active-plan-readout" class="active-plan-readout"></div>
              <div class="btn-row">
                <button id="deactivate-plan-btn" class="mini-btn danger">DEACTIVATE_SPLIT</button>
                <button id="jump-day-btn" class="mini-btn">SET_TODAY_DAY</button>
              </div>
            </div>
          </div>
        </section>

        <!-- FRIENDS -->
        <section id="friends-panel" class="hidden">
          <div class="grave-box">
            <div class="grave-header">SEARCH_ENTITIES</div>
            <div class="grave-body">
              <input id="userSearch" placeholder="SEARCH CALLSIGN...">
              <div id="search-results"></div>
            </div>
          </div>

          <div class="grave-box">
            <div class="grave-header">THE_COVEN (FRIENDS)</div>
            <div id="friends-list" class="grave-body"></div>
          </div>
        </section>

        <!-- SETTINGS -->
        <section id="settings-panel" class="hidden">
          <div class="grave-box">
            <div class="grave-header">USER_PARAMETERS</div>
            <div class="grave-body">

              <div class="row-split">
                <div>
                  <p>CHANGE CALLSIGN:</p>
                  <input id="new-username" placeholder="NEW_CALLSIGN" maxlength="18">
                  <button class="grave-btn" id="renameBtn">RENAME_ENTITY</button>

                  <div class="divider"></div>

                  <p>GRAVE_TAG_VISUALS:</p>
                  <div id="settings-tag-picker" class="tag-grid"></div>
                  <button class="grave-btn" id="updateTagBtn">UPDATE_TAG</button>

                  <div class="divider"></div>

                  <p>ADD EXERCISE TO YOUR INDEX:</p>
                  <input id="new-exercise" placeholder="EX: DB Bench Press">
                  <button class="grave-btn-alt" id="addExerciseBtn">ADD_TO_LIBRARY</button>
                  <div class="hint">
                    <span class="hint-dot"></span>
                    Adds to your dropdowns (builder + logger). Fixes “exercise not listed”.
                  </div>
                </div>

                <div>
                  <p>AVATAR + CALLING CARD:</p>
                  <div id="settings-avatar-picker" class="avatar-grid"></div>
                  <button class="grave-btn" id="updateAvatarBtn">BIND_AVATAR</button>

                  <div class="divider"></div>

                  <p>CALLING CARD (ANIMATED):</p>
                  <div id="card-picker" class="card-grid"></div>
                  <button class="grave-btn" id="updateCardBtn">EQUIP_CARD</button>

                  <div class="hint">
                    <span class="hint-dot"></span>
                    Cards unlock with ranks + trophies.
                  </div>
                </div>
              </div>

              <div class="divider"></div>

              <div class="admin-box">
                <div class="admin-title">ADMIN_CONSOLE (LOCAL)</div>
                <div class="small-label">Local purge controls (your own data only).</div>
                <button id="purgeMyLogsBtn" class="mini-btn danger">PURGE_MY_LOGS</button>
                <button id="purgeMyPostsBtn" class="mini-btn danger">PURGE_MY_POSTS</button>
              </div>

            </div>
          </div>
        </section>

      </main>

      <!-- RIGHT -->
      <aside class="col">
        <div class="grave-box">
          <div class="grave-header">LOGGING_STATION</div>
          <div class="grave-body">
            <div class="logger-top">
              <div class="logger-title">TODAY’S WORK</div>
              <div class="logger-sub" id="logger-sub">Activate a split to load today.</div>
            </div>

            <div id="today-workout-list" class="today-workout-list"></div>

            <div class="divider thin"></div>

            <div class="manual-log">
              <div class="small-label">MANUAL CARVING (ANY EXERCISE):</div>
              <select id="log-category"></select>
              <select id="log-ex"></select>

              <div class="row3">
                <input id="log-w" type="number" inputmode="decimal" placeholder="LBS">
                <input id="log-r" type="number" inputmode="numeric" placeholder="REPS">
                <button id="manualLogBtn" class="mini-btn">RECORD</button>
              </div>
            </div>

            <div class="divider thin"></div>

            <div class="small-label">MY CARVINGS (RECENT)</div>
            <div id="my-logs" class="index-container"></div>
          </div>
        </div>

        <div class="grave-box">
          <div class="grave-header">PERSONAL_RECORDS</div>
          <div id="prList" class="grave-body index-container"></div>
        </div>
      </aside>

    </div>
  </div>

  <!-- PROFILE MODAL -->
  <div id="profile-modal" class="modal hidden">
    <div class="modal-inner grave-box">
      <div class="grave-header">
        <span id="modal-title">ENTITY_PROFILE</span>
        <button id="closeProfileBtn" class="mini-btn danger">X</button>
      </div>
      <div class="grave-body">
        <div class="profile-modal-top">
          <div class="avatar-frame big" id="modal-avatar"></div>
          <div class="profile-modal-meta">
            <div class="modal-name" id="modal-name">CALLSIGN</div>
            <div class="modal-sub" id="modal-rank">RANK</div>
            <div class="modal-sub" id="modal-stats">STATS</div>
            <div class="btn-row">
              <button id="modal-friend-btn" class="mini-btn">ADD_FRIEND</button>
              <button id="modal-view-posts-btn" class="mini-btn">VIEW_POSTS</button>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="modal-section-title">RECENT BROADCASTS</div>
        <div id="modal-posts" class="modal-posts"></div>
      </div>
    </div>
  </div>

  <!-- SPLIT BUILDER MODAL -->
  <div id="builder-modal" class="modal hidden">
    <div class="modal-inner grave-box">
      <div class="grave-header">
        <span>SPLIT_FORGE</span>
        <button id="closeBuilderBtn" class="mini-btn danger">X</button>
      </div>

      <div class="grave-body">
        <div class="row-split">
          <div>
            <p class="small-label">SPLIT_NAME</p>
            <input id="builder-name" placeholder="EX: NECRO_PPL // 6-DAY">

            <p class="small-label">DAYS_PER_WEEK</p>
            <select id="builder-days">
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
            </select>

            <div class="divider thin"></div>

            <div class="hint">
              <span class="hint-dot"></span>
              One exercise per line. You can include dumbbells like: “DB Bench Press”.
            </div>

            <button id="builder-create-btn" class="grave-btn">SAVE_SPLIT</button>
            <div class="tiny-warn" id="builder-warn"></div>
          </div>

          <div>
            <div class="small-label">DAY_WORKOUTS</div>
            <div id="builder-days-wrap" class="builder-days-wrap"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>