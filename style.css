<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DEADWEIGHTS // THE_GRAVE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
</head>

<body class="crt">
  <!-- ====== REGISTRATION ====== -->
  <div id="registration-screen" class="screen hidden">
    <div class="morbid-title-main pulse">DEADWEIGHTS</div>

    <div class="grave-box auth-box">
      <div class="grave-header">RECRUIT_INDUCTION</div>
      <div class="grave-body">
        <div id="reg-step-1">
          <input id="reg-email" type="email" placeholder="EMAIL_ADDRESS" autocomplete="email">
          <input id="reg-pass" type="password" placeholder="CREATE_PASSCODE" autocomplete="new-password">
          <input id="reg-confirm" type="password" placeholder="CONFIRM_PASSCODE" autocomplete="new-password">
          <button id="nextStepBtn" class="grave-btn">CONTINUE_INDUCTION</button>
          <div class="small-text dim" id="reg-step-1-hint">
            TIP: Use a real email/pass. You will log in with this.
          </div>
        </div>

        <div id="reg-step-2" class="hidden">
          <input id="reg-username" placeholder="ASSIGN_CALLSIGN" maxlength="20">
          <p class="small-label">SELECT INITIAL GRAVE_TAG:</p>
          <div id="initial-tag-picker" class="tag-grid"></div>

          <p class="small-label">SELECT INITIAL AVATAR:</p>
          <div id="initial-avatar-picker" class="avatar-grid"></div>

          <button id="finalizeRegBtn" class="grave-btn">FINALIZE_ENTRY</button>
          <div class="small-text dim">
            You can change tag/avatar/calling-card later.
          </div>
        </div>

        <button id="returnToLoginBtn" class="grave-btn-alt">RETURN_TO_LOGIN</button>
      </div>
    </div>
  </div>

  <!-- ====== AUTH ====== -->
  <div id="auth-screen" class="screen">
    <div class="morbid-title-main pulse">DEADWEIGHTS</div>
    <div class="grave-box auth-box">
      <div class="grave-header">EXISTING_ENTITY_ACCESS</div>
      <div class="grave-body">
        <input id="email" type="email" placeholder="USER_ID" autocomplete="email">
        <input id="password" type="password" placeholder="PASS_CODE" autocomplete="current-password">
        <button id="loginBtn" class="grave-btn">RESURRECT</button>
        <button id="showRegBtn" class="grave-btn-alt">NEW_RECRUIT_ENTRY</button>
        <div class="small-text dim" id="auth-error"></div>
      </div>
    </div>
  </div>

  <!-- ====== APP ====== -->
  <div id="app" class="screen hidden">
    <header class="grave-nav">
      <div class="logo pulse">
        DEADWEIGHTS // <span id="header-callsign"></span>
        <span class="chip" id="header-rank"></span>
      </div>

      <div class="nav-controls">
        <button id="navFeed" class="mini-btn">FEED</button>
        <button id="navPlans" class="mini-btn">PLANS</button>
        <button id="navFriends" class="mini-btn">FRIENDS</button>
        <button id="navProfile" class="mini-btn">PROFILE</button>
        <button id="navSettings" class="mini-btn">SETTINGS</button>
        <button id="logoutBtn" class="mini-btn danger">DISCONNECT</button>
      </div>
    </header>

    <!-- Top status bar -->
    <div class="top-strip">
      <div class="strip-box">
        <div class="strip-title">MASSGRAVE // TODAY</div>
        <div class="strip-value">
          GLOBAL: <span id="massgrave-global">0</span> LBS • YOU: <span id="massgrave-you">0</span> LBS
        </div>
      </div>
      <div class="strip-box">
        <div class="strip-title">UNLOCKS</div>
        <div class="strip-value" id="unlock-line">...</div>
      </div>
    </div>

    <div class="grave-grid">
      <!-- LEFT COL -->
      <aside class="col">
        <div class="grave-box">
          <div id="user-grave-tag" class="grave-tag">
            <span class="tag-text">CADAVER</span>
          </div>

          <div class="grave-body">
            <div class="profile-top">
              <div id="profile-avatar" class="avatar avatar-wraith"></div>
              <div class="profile-meta">
                <h2 id="profileUsername" class="cadaver-name">SUBJECT</h2>
                <div class="dim small-text" id="profile-cardline">CALLING_CARD: NONE</div>
                <div class="stats-line">
                  <div class="stat">
                    <small>CARVINGS</small>
                    <b id="stat-count">0</b>
                  </div>
                  <div class="stat">
                    <small>RANK</small>
                    <b id="user-rank">NEWBORN</b>
                  </div>
                  <div class="stat">
                    <small>TROPHIES</small>
                    <b id="user-trophies">0</b>
                  </div>
                </div>
              </div>
            </div>

            <div class="divider"></div>

            <div class="mini-grid">
              <button id="quickLogTodayBtn" class="grave-btn-alt">LOG TODAY'S SPLIT</button>
              <button id="quickViewPRBtn" class="grave-btn-alt">VIEW PR VAULT</button>
            </div>
          </div>
        </div>

        <div class="grave-box">
          <div class="grave-header">LEADERBOARD // CARVINGS</div>
          <div id="leaderboard" class="grave-body small-text"></div>
        </div>

        <div class="grave-box">
          <div class="grave-header">TROPHY_CASE</div>
          <div id="trophyCase" class="grave-body"></div>
        </div>
      </aside>

      <!-- CENTER COL -->
      <main class="col-main">
        <!-- FEED -->
        <section id="feed-panel">
          <div class="grave-box">
            <div class="grave-header">
              <span>BROADCAST_CARVING</span>
              <span class="dim small-text">YOU CAN DELETE YOUR OWN POSTS</span>
            </div>
            <div class="grave-body">
              <textarea id="statusText" placeholder="SHARE INTEL..."></textarea>
              <button id="postStatusBtn" class="grave-btn">TRANSMIT</button>
              <div class="small-text dim" id="postHint"></div>
            </div>
          </div>
          <div id="feed-content"></div>
        </section>

        <!-- PLANS -->
        <section id="plans-panel" class="hidden">
          <div class="grave-box">
            <div class="grave-header">WORKOUT_SPLITS // SELECTION</div>
            <div class="grave-body">
              <div class="plan-row">
                <div class="plan-col">
                  <label class="small-label">CHOOSE SPLIT:</label>
                  <select id="planSelect"></select>
                </div>

                <div class="plan-col">
                  <label class="small-label">START MODE:</label>
                  <select id="startMode">
                    <option value="today">START TODAY</option>
                    <option value="pickday">PICK DAY OF WEEK</option>
                    <option value="date">CUSTOM START DATE</option>
                  </select>
                </div>

                <div class="plan-col" id="startDayWrap" class="hidden">
                  <label class="small-label">START DAY:</label>
                  <select id="startDaySelect">
                    <option value="1">MONDAY</option>
                    <option value="2">TUESDAY</option>
                    <option value="3">WEDNESDAY</option>
                    <option value="4">THURSDAY</option>
                    <option value="5">FRIDAY</option>
                    <option value="6">SATURDAY</option>
                    <option value="0">SUNDAY</option>
                  </select>
                </div>

                <div class="plan-col hidden" id="startDateWrap">
                  <label class="small-label">START DATE:</label>
                  <input id="startDateInput" type="date">
                </div>
              </div>

              <div class="divider"></div>

              <div class="mini-grid">
                <button id="activatePlanBtn" class="grave-btn">ACTIVATE_SPLIT</button>
                <button id="openBuilderBtn" class="grave-btn-alt">BUILD_CUSTOM_SPLIT</button>
              </div>

              <div class="small-text dim" id="planStatusLine"></div>
            </div>
          </div>

          <div class="grave-box">
            <div class="grave-header">ACTIVE_SPLIT // TODAY'S RITUAL</div>
            <div class="grave-body">
              <div class="plan-row">
                <div class="plan-col">
                  <div class="small-label">ACTIVE SPLIT:</div>
                  <div id="activePlanName" class="big-glow">NONE</div>
                </div>
                <div class="plan-col">
                  <div class="small-label">TODAY IN SPLIT:</div>
                  <div id="activePlanDay" class="big-glow">—</div>
                </div>
                <div class="plan-col">
                  <div class="small-label">LOG FOR DAY:</div>
                  <select id="logDayOverride"></select>
                </div>
              </div>

              <div class="divider"></div>

              <div id="todayLogger"></div>

              <div class="divider"></div>

              <button id="submitDayLogBtn" class="grave-btn">SEAL_THE_DAY</button>
              <div class="small-text dim" id="logResultLine"></div>
            </div>
          </div>

          <div class="grave-box hidden" id="builderBox">
            <div class="grave-header">SPLIT_FORGE // CUSTOM BUILDER</div>
            <div class="grave-body">
              <input id="builderName" placeholder="SPLIT_NAME (e.g. 'CRYPT_ENGINE V')" maxlength="32">
              <div class="small-text dim">
                Builder is intentionally “simple but lethal”: choose days, then add slots with exercise options.
              </div>

              <div class="divider"></div>

              <div id="builderDays"></div>

              <div class="divider"></div>

              <button id="saveCustomSplitBtn" class="grave-btn">SAVE_CUSTOM_SPLIT</button>
              <button id="closeBuilderBtn" class="grave-btn-alt">CLOSE_FORGE</button>

              <div class="small-text dim" id="builderStatus"></div>
            </div>
          </div>
        </section>

        <!-- FRIENDS -->
        <section id="friends-panel" class="hidden">
          <div class="grave-box">
            <div class="grave-header">SEARCH_ENTITIES</div>
            <div class="grave-body">
              <input id="userSearch" placeholder="SEARCH CALLSIGN...">
              <div id="search-results"></div>
            </div>
          </div>

          <div class="grave-box">
            <div class="grave-header">THE_COVEN (FRIENDS)</div>
            <div id="friends-list" class="grave-body"></div>
          </div>
        </section>

        <!-- PROFILE -->
        <section id="profile-panel" class="hidden">
          <div class="grave-box">
            <div class="grave-header">PROFILE_PAGE</div>
            <div class="grave-body">
              <div class="profile-page-top">
                <div id="profilePageAvatar" class="avatar avatar-wraith big"></div>
                <div>
                  <div class="big-glow" id="profilePageName">YOU</div>
                  <div class="dim small-text" id="profilePageCard">CALLING_CARD: —</div>
                  <div class="dim small-text" id="profilePageTag">GRAVE_TAG: —</div>
                  <div class="dim small-text" id="profilePageRank">RANK: —</div>
                </div>
              </div>

              <div class="divider"></div>

              <div class="grave-box inner">
                <div class="grave-header">RECENT_CARVINGS</div>
                <div class="grave-body index-container" id="profileRecentLogs"></div>
              </div>

              <div class="grave-box inner">
                <div class="grave-header">POSTS</div>
                <div class="grave-body" id="profilePosts"></div>
              </div>
            </div>
          </div>
        </section>

        <!-- SETTINGS -->
        <section id="settings-panel" class="hidden">
          <div class="grave-box">
            <div class="grave-header">USER_PARAMETERS</div>
            <div class="grave-body">
              <p class="small-label">CHANGE CALLSIGN:</p>
              <input id="new-username" placeholder="NEW_CALLSIGN">
              <button id="renameBtn" class="grave-btn">RENAME_ENTITY</button>

              <div class="divider"></div>

              <p class="small-label">GRAVE_TAG_VISUALS:</p>
              <div id="settings-tag-picker" class="tag-grid"></div>
              <button id="updateTagBtn" class="grave-btn">UPDATE_TAG</button>

              <div class="divider"></div>

              <p class="small-label">AVATAR:</p>
              <div id="settings-avatar-picker" class="avatar-grid"></div>
              <button id="updateAvatarBtn" class="grave-btn">UPDATE_AVATAR</button>

              <div class="divider"></div>

              <p class="small-label">CALLING_CARD (UNLOCKED BY RANK/TROPHIES):</p>
              <div id="settings-card-picker" class="card-grid"></div>
              <button id="updateCardBtn" class="grave-btn">UPDATE_CALLING_CARD</button>

              <div class="divider"></div>

              <p class="small-label">DANGER_ZONE:</p>
              <button id="resetPlanBtn" class="mini-btn danger">RESET ACTIVE SPLIT (YOU ONLY)</button>
              <div class="small-text dim">
                This does not delete logs/posts. It only clears which split is active.
              </div>
            </div>
          </div>
        </section>
      </main>

      <!-- RIGHT COL -->
      <aside class="col">
        <div class="grave-box">
          <div class="grave-header">PR_VAULT // PERSONAL_RECORDS</div>
          <div id="prList" class="grave-body index-container"></div>
        </div>

        <div class="grave-box">
          <div class="grave-header">CARVING_INDEX // LAST 30</div>
          <div id="logIndex" class="grave-body index-container"></div>
        </div>
      </aside>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
